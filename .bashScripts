# start/stop mongodb service
mongo-@(){
  brew services $@ mongodb-community@4.4
}

# ssh commands to connect to netcup
ssh-netcup@() {
  ssh hosting153068@$@
}

# shortcut to execute homebrew with the arm snippet
arm() {
  arch -x86_64 $@
}

# Open vscode-exploration with code shortcut instead of code-exploration
code() {
  code-exploration $@
}

installedPhpVersions=($(brew ls --versions | ggrep -E 'php(@.*)?\s' | ggrep -oP '(?<=\s)\d\.\d' | uniq | sort))
# list all installed php versions
php-version() {
  echo $installedPhpVersions
}

# Script to determine installed php versions and change between them via homebrew
for phpVersion in ${installedPhpVersions[*]}; do
    value="{"

    for otherPhpVersion in ${installedPhpVersions[*]}; do
        if [ "${otherPhpVersion}" != "${phpVersion}" ]; then
            value="${value} brew unlink php@${otherPhpVersion};"
        fi
    done

    value="${value} brew link php@${phpVersion} --force --overwrite; } &> /dev/null && php -v"

    alias "${phpVersion}"="${value}"
done
